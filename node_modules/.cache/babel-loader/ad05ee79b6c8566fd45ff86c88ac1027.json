{"ast":null,"code":"import _classCallCheck from\"E:/wamp64/www/cryptolisting/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/wamp64/www/cryptolisting/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/wamp64/www/cryptolisting/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/wamp64/www/cryptolisting/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import Modal from'./Modal/Modal';import axios from'axios';import Logo from'../img/cryptolisting-01.jpg';import CoinImg from'../img/1.jpg';import ReactTimeAgo from'react-time-ago';import TimeAgo from'javascript-time-ago';import en from'javascript-time-ago/locale/en.json';import ru from'javascript-time-ago/locale/ru.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";TimeAgo.addDefaultLocale(en);var Todayhot=/*#__PURE__*/function(_Component){_inherits(Todayhot,_Component);var _super=_createSuper(Todayhot);function Todayhot(props){var _this;_classCallCheck(this,Todayhot);_this=_super.call(this,props);_this.modalOpen=function(id,count){_this.setState({addVoteData:{id:id,count:count},show:true});};_this.updateVote=function(){var _this$state$addVoteDa=_this.state.addVoteData,id=_this$state$addVoteDa.id,count=_this$state$addVoteDa.count;_this.setState({isLoading:true});axios.post(_this.state.apiPublicURL+\"addVoteCount\",{id:id,count:count}).then(function(response){axios.get(_this.state.apiPublicURL+'coinsApproved/').then(function(res){_this.setState({coins:res.data});//console.log(this.state.coins);\n}).catch(function(error){console.log(error);});_this.setState({show:false,addVoteData:{id:id,count:count},isLoading:false});}).catch(function(error){_this.setState({isLoading:false});console.log(error.response);});};_this.state={coins:[],show:false,setShow:false,addVoteData:{id:\"\",count:\"\"},isLoading:false,apiLocalURL:'http://localhost:8000/api/',apiPublicURL:'https://listingapp.cryptolisting.com/admin/api/',localImgPath:'http://localhost:8000/storage/',publicImgPath:'https://listingapp.cryptolisting.com/admin/storage/app/public/'};return _this;}_createClass(Todayhot,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(this.state.apiPublicURL+'coinsApproved/').then(function(res){_this2.setState({coins:res.data});//console.log(this.state.coins);\n}).catch(function(error){console.log(error);});}},{key:\"modalClose\",value:function modalClose(e){this.setState({show:false});}},{key:\"render\",value:function render(){var _this3=this;var addVoteData=this.state.addVoteData;var coinsDetails=[];if(this.state.coins.length){coinsDetails=this.state.coins.map(function(res,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"\".concat(res.chain,\"/\").concat(res.name,\"/\").concat(res.id),state:{data:res}},children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"img-fluid rounded-circle shadow-lg\",src:_this3.state.publicImgPath+'coin_logo/'+res.logo,width:\"50\",height:\"50\"})})}),/*#__PURE__*/_jsx(\"td\",{children:res.name}),/*#__PURE__*/_jsx(\"td\",{children:res.symbol}),/*#__PURE__*/_jsx(\"td\",{children:res.chain}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-pill badge-primary text-uppercase\",children:/*#__PURE__*/_jsx(ReactTimeAgo,{date:res.launch})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this3.modalOpen(res.id,res.votes);},className:\"button gray\",children:[\" \",res.votes,\" \"]})})]});});}return/*#__PURE__*/_jsx(\"div\",{className:\"tab_container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tab_content\",id:\"tab1b\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2 col-md-12 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-md-12 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"utf_dashboard_list_box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-list-box table-responsive invoices with-icons\",children:[/*#__PURE__*/_jsx(Modal,{title:\"Add Vote\",onClose:function onClose(event){return _this3.modalClose(event);},show:this.state.show,updateVote:this.updateVote,children:/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure to add your vote?\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Coin name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Chain\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Launch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Votes\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:coinsDetails})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2 col-md-12 mb-4\"})]})});}}]);return Todayhot;}(Component);export default Todayhot;","map":{"version":3,"sources":["E:/wamp64/www/cryptolisting/frontend/src/components/Todayhot.js"],"names":["React","Component","Link","Modal","axios","Logo","CoinImg","ReactTimeAgo","TimeAgo","en","ru","addDefaultLocale","Todayhot","props","modalOpen","id","count","setState","addVoteData","show","updateVote","state","isLoading","post","apiPublicURL","then","response","get","res","coins","data","catch","error","console","log","setShow","apiLocalURL","localImgPath","publicImgPath","e","coinsDetails","length","map","i","pathname","chain","name","logo","symbol","launch","votes","event","modalClose"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from './Modal/Modal';\r\nimport axios from 'axios';\r\nimport Logo from '../img/cryptolisting-01.jpg';\r\nimport CoinImg from '../img/1.jpg';\r\n\r\nimport ReactTimeAgo from 'react-time-ago';\r\nimport TimeAgo from 'javascript-time-ago';\r\n\r\nimport en from 'javascript-time-ago/locale/en.json';\r\nimport ru from 'javascript-time-ago/locale/ru.json';\r\n\r\nTimeAgo.addDefaultLocale(en);\r\n\r\nclass Todayhot extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcoins: [],\r\n\t\t\tshow: false,\r\n\t\t\tsetShow: false,\r\n\t\t\taddVoteData: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tcount: \"\",\r\n\t\t\t},\r\n\t\t\tisLoading: false,\r\n\t\t\tapiLocalURL : 'http://localhost:8000/api/',\r\n\t\t\tapiPublicURL : 'https://listingapp.cryptolisting.com/admin/api/',\r\n\t\t\tlocalImgPath : 'http://localhost:8000/storage/',\r\n\t\t\tpublicImgPath : 'https://listingapp.cryptolisting.com/admin/storage/app/public/',\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\taxios.get( this.state.apiPublicURL+'coinsApproved/')\r\n\t\t.then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcoins: res.data\r\n\t\t\t});\r\n\t\t\t//console.log(this.state.coins);\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t})\r\n\t}\r\n\t\r\n\tmodalOpen = (id, count) => {\r\n\t\tthis.setState({ \r\n\t\t\taddVoteData: { id, count },\r\n\t\t\tshow: true\r\n\t\t});\r\n\t}\r\n\t\r\n\tmodalClose (e) {\r\n\t\tthis.setState({ show: false });\r\n\t}\r\n\t\r\n\tupdateVote = () => {\r\n\t\tlet {\r\n\t\t\tid,\r\n\t\t\tcount\r\n        } = this.state.addVoteData;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tisLoading: true,\r\n        });\r\n\t\t\r\n\t\taxios.post( this.state.apiPublicURL+\"addVoteCount\", {\r\n\t\t\tid,\r\n\t\t\tcount,\r\n\t\t}).then((response) => {\r\n\t\t\taxios.get( this.state.apiPublicURL+'coinsApproved/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcoins: res.data\r\n\t\t\t\t});\r\n\t\t\t\t//console.log(this.state.coins);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t})\r\n            this.setState({\r\n\t\t\t\tshow: false,\r\n\t\t\t\taddVoteData: { id, count },\r\n\t\t\t\tisLoading:false,\r\n            });\r\n\t\t}).catch((error) => {\r\n            this.setState({isLoading:false})\r\n            console.log(error.response);\r\n\t\t});\r\n\t};\r\n\t\r\n\trender() {\r\n\t\tconst { addVoteData } = this.state;\r\n\t\tlet coinsDetails = [];\r\n\t\tif (this.state.coins.length) {\r\n\t\t\tcoinsDetails = this.state.coins.map((res, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>{ i+1 }</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\tpathname: `${res.chain}/${res.name}/${res.id}`,\r\n\t\t\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\t\t\tdata: res\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img alt=\"\" className=\"img-fluid rounded-circle shadow-lg\" src={ this.state.publicImgPath+'coin_logo/'+ res.logo } width=\"50\" height=\"50\" />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{res.name}</td>\r\n\t\t\t\t\t\t<td>{res.symbol}</td>\r\n\t\t\t\t\t\t<td>{res.chain}</td>\r\n\t\t\t\t\t\t<td><span className=\"badge badge-pill badge-primary text-uppercase\"><ReactTimeAgo date={res.launch} /></span></td>\r\n\t\t\t\t\t\t<td><button onClick={() => this.modalOpen(res.id,res.votes) } className=\"button gray\"> {res.votes} </button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"tab_container\">\r\n\t\t\t\t<div className=\"tab_content\" id=\"tab1b\">\r\n\t\t\t\t\t<div className=\"col-lg-2 col-md-12 mb-4\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-8 col-md-12 mb-4\">\r\n\t\t\t\t\t\t<div className=\"utf_dashboard_list_box\" >\r\n\t\t\t\t\t\t\t<div className=\"dashboard-list-box table-responsive invoices with-icons\">\r\n\t\t\t\t\t\t\t\t{/* Model for Edit Studnet Record */}\r\n\t\t\t\t\t\t\t\t<Modal title=\"Add Vote\" onClose={ (event) => this.modalClose(event) } show={this.state.show} updateVote={this.updateVote}>\r\n\t\t\t\t\t\t\t\t\t<p>Are you sure to add your vote?</p>\r\n\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t  \r\n\t\t\t\t\t\t\t\t<table className=\"table table-hover\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Image</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Coin name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Symbol</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Chain</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Launch</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Votes</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{coinsDetails}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-2 col-md-12 mb-4\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Todayhot;"]},"metadata":{},"sourceType":"module"}